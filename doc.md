**\*\*\*\***Categories**\*\*\*\***
[] - /api/categories GET - Get all categories **_all_**

[] - /api/categories POST - Create a new category **_admin_**
[] ----category

**\*\*\*\***Products**\*\*\*\***
[] - /api/product/:productId GET Get single product **_all_**

[] - /api/products/:id GET - Get products by categoryId

[] - /api/products POST - Create a new product **_admin_**
[] ----product
[] ----productname
[] ----price
[] ----categoryid

[] - /api/products/:productId/disable PUT disable Product **_*admin*_**
[] ----authorization : bearer {token}

**\*\*\*\***Cart**\*\*\*\***
[] - /api/cart GET get cart for **_user_**
[] -----authorization: Bearer {token}

[] - /api/addtocart POST addtocart for **_user_**
[] -----authorization: Bearer {token}
[] -----productId

[] - /api/cart/:productId DElETE delete from Cart for **_user_**
[] -----authorization: Bearer {token}

**\*\*\*\***Orders**\*\*\*\***
[] - /api/placedorders GET get placedorders for **_user_**
[] -----authorization: Bearer {token}

[] - /api/placeorder POST place order for **_user_**
[] -----authorization: Bearer {token}
[] -----productId

[] - /api/receivedorders GET ger Received orders for **_admin_**
[] -----authorization: Bearer {token}

[] - /api/setorderstatus/:orderId PUT setOrdersStatus by **_admin_**
[] -----authorization: Bearer {token}
[] -----status

[] - /api/cancelorder/:orderId DELETE delete cancel order for **_user_**
[] -----authorization : Bearer {token}

**_\_Authentication & Register_**

[] - /api/register POST register **_all_**
[] ----- { name, email, password, phonenumber, role }

[] - /api/login POST login **_all_**
[] -----{ email, password }

[] - /api/checkauth GET checkAuth for **all**
[] -----authorization : Bearer {token}

-- This script was generated by a beta version of the ERD tool in pgAdmin 4.
-- Please log an issue at https://redmine.postgresql.org/projects/pgadmin4/issues/new if you find any bugs, including reproduction steps.
BEGIN;

CREATE TABLE IF NOT EXISTS public."SequelizeMeta"
(
name character varying(255) COLLATE pg_catalog."default" NOT NULL,
CONSTRAINT "SequelizeMeta_pkey" PRIMARY KEY (name)
);

CREATE TABLE IF NOT EXISTS public.addresses
(
id integer NOT NULL DEFAULT nextval('addresses_id_seq'::regclass),
address character varying(255) COLLATE pg_catalog."default",
pincode character varying(255) COLLATE pg_catalog."default",
"userId" integer,
"createdAt" timestamp with time zone NOT NULL,
"updatedAt" timestamp with time zone NOT NULL,
CONSTRAINT addresses_pkey PRIMARY KEY (id),
CONSTRAINT "addressUid" UNIQUE (address, "userId")
);

CREATE TABLE IF NOT EXISTS public.carts
(
id integer NOT NULL DEFAULT nextval('carts_id_seq'::regclass),
"productId" integer,
"userId" integer,
quantity integer,
"createdAt" timestamp with time zone NOT NULL,
"updatedAt" timestamp with time zone NOT NULL,
CONSTRAINT carts_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.categories
(
id integer NOT NULL DEFAULT nextval('categories_id_seq'::regclass),
categoryname character varying(255) COLLATE pg_catalog."default",
"createdAt" timestamp with time zone NOT NULL,
"updatedAt" timestamp with time zone NOT NULL,
CONSTRAINT categories_pkey PRIMARY KEY (id),
CONSTRAINT categories_categoryname_key UNIQUE (categoryname)
);

CREATE TABLE IF NOT EXISTS public.driver_orders
(
id integer NOT NULL DEFAULT nextval('driver_orders_id_seq'::regclass),
driver_id integer NOT NULL,
order_id integer NOT NULL,
status character varying(255) COLLATE pg_catalog."default" NOT NULL DEFAULT 'pending'::character varying,
created_at timestamp with time zone NOT NULL,
updated_at timestamp with time zone NOT NULL,
CONSTRAINT driver_orders_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.order_products
(
id integer NOT NULL DEFAULT nextval('order_products_id_seq'::regclass),
"orderId" integer,
"productId" integer,
"createdAt" timestamp with time zone NOT NULL,
"updatedAt" timestamp with time zone NOT NULL,
CONSTRAINT order_products_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.orders
(
id integer NOT NULL DEFAULT nextval('orders_id_seq'::regclass),
"userId" integer,
status text COLLATE pg_catalog."default" DEFAULT 'CREATED'::text,
totalprice double precision,
"createdAt" timestamp with time zone NOT NULL,
"updatedAt" timestamp with time zone NOT NULL,
"addressId" integer NOT NULL,
CONSTRAINT orders_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.products
(
id integer NOT NULL DEFAULT nextval('products_id_seq'::regclass),
productname character varying(255) COLLATE pg_catalog."default",
price double precision,
"categoryId" integer,
"createdAt" timestamp with time zone NOT NULL,
"updatedAt" timestamp with time zone NOT NULL,
disabled boolean NOT NULL DEFAULT false,
CONSTRAINT products_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.roles
(
id integer NOT NULL DEFAULT nextval('roles_id_seq'::regclass),
rolename character varying(255) COLLATE pg_catalog."default",
"createdAt" timestamp with time zone NOT NULL,
"updatedAt" timestamp with time zone NOT NULL,
CONSTRAINT roles_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.users
(
id integer NOT NULL DEFAULT nextval('users_id_seq'::regclass),
name character varying(255) COLLATE pg_catalog."default",
password character varying(255) COLLATE pg_catalog."default" NOT NULL,
email character varying(255) COLLATE pg_catalog."default",
phonenumber character varying(255) COLLATE pg_catalog."default",
"roleId" integer,
"createdAt" timestamp with time zone NOT NULL,
"updatedAt" timestamp with time zone NOT NULL,
CONSTRAINT users_pkey PRIMARY KEY (id),
CONSTRAINT users_email_key UNIQUE (email)
);

ALTER TABLE IF EXISTS public.addresses
ADD CONSTRAINT "addresses_userId_fkey" FOREIGN KEY ("userId")
REFERENCES public.users (id) MATCH SIMPLE
ON UPDATE NO ACTION
ON DELETE NO ACTION;

ALTER TABLE IF EXISTS public.carts
ADD CONSTRAINT "carts_productId_fkey" FOREIGN KEY ("productId")
REFERENCES public.products (id) MATCH SIMPLE
ON UPDATE NO ACTION
ON DELETE NO ACTION;

ALTER TABLE IF EXISTS public.carts
ADD CONSTRAINT "carts_userId_fkey" FOREIGN KEY ("userId")
REFERENCES public.users (id) MATCH SIMPLE
ON UPDATE NO ACTION
ON DELETE NO ACTION;

ALTER TABLE IF EXISTS public.driver_orders
ADD CONSTRAINT driver_orders_driver_id_fkey FOREIGN KEY (driver_id)
REFERENCES public.users (id) MATCH SIMPLE
ON UPDATE NO ACTION
ON DELETE NO ACTION;

ALTER TABLE IF EXISTS public.driver_orders
ADD CONSTRAINT driver_orders_order_id_fkey FOREIGN KEY (order_id)
REFERENCES public.orders (id) MATCH SIMPLE
ON UPDATE NO ACTION
ON DELETE NO ACTION;

ALTER TABLE IF EXISTS public.order_products
ADD CONSTRAINT "order_products_orderId_fkey" FOREIGN KEY ("orderId")
REFERENCES public.orders (id) MATCH SIMPLE
ON UPDATE NO ACTION
ON DELETE NO ACTION;

ALTER TABLE IF EXISTS public.order_products
ADD CONSTRAINT "order_products_productId_fkey" FOREIGN KEY ("productId")
REFERENCES public.products (id) MATCH SIMPLE
ON UPDATE NO ACTION
ON DELETE NO ACTION;

ALTER TABLE IF EXISTS public.orders
ADD CONSTRAINT "orders_addressId_fkey" FOREIGN KEY ("addressId")
REFERENCES public.addresses (id) MATCH SIMPLE
ON UPDATE NO ACTION
ON DELETE NO ACTION
NOT VALID;

ALTER TABLE IF EXISTS public.orders
ADD CONSTRAINT "orders_userId_fkey" FOREIGN KEY ("userId")
REFERENCES public.users (id) MATCH SIMPLE
ON UPDATE NO ACTION
ON DELETE NO ACTION;

ALTER TABLE IF EXISTS public.products
ADD CONSTRAINT "products_categoryId_fkey" FOREIGN KEY ("categoryId")
REFERENCES public.categories (id) MATCH SIMPLE
ON UPDATE NO ACTION
ON DELETE NO ACTION;

ALTER TABLE IF EXISTS public.users
ADD CONSTRAINT "users_roleId_fkey" FOREIGN KEY ("roleId")
REFERENCES public.roles (id) MATCH SIMPLE
ON UPDATE NO ACTION
ON DELETE NO ACTION;

END;
